<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026é©¬å¹´æ–°å¹´ç­¾ - æµ‹æµ‹ä½ æ˜¯ä»€ä¹ˆé©¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(120deg, #FFE6E8, #FFF8E1);
            background-size: 200% 200%;
            animation: bgGradient 10s ease infinite;
            min-height: 100vh;
            font-family: 'Noto Sans SC', sans-serif;
            color: #212121;
            overflow-x: hidden;
        }
        @keyframes bgGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes float { 0%,100% { transform: translateY(0) scale(1.05); } 50% { transform: translateY(-15px) scale(1.1); } }
        @keyframes glow { 0% { box-shadow: 0 0 30px rgba(255,193,7,1),0 0 15px rgba(216,31,38,0.8); } 100% { box-shadow: 0 0 60px rgba(255,193,7,1.2),0 0 30px rgba(216,31,38,1),0 0 80px rgba(255,193,7,0.9); } }
        @keyframes popIn { 0% { transform: scale(0) translateY(50px); } 70% { transform: scale(1.1) translateY(-10px); } 100% { transform: scale(1) translateY(0); } }
        @keyframes pixelBreathe { 0% { transform: scale(1); filter: brightness(1) drop-shadow(0 0 8px rgba(255,193,7,0.8)); } 100% { transform: scale(1.15); filter: brightness(1.3) drop-shadow(0 0 15px rgba(255,193,7,1)); } }
        @keyframes pixelRun { 0%,100% { transform: rotate(-5deg) scale(1); } 50% { transform: rotate(5deg) scale(1.08); } }
        @keyframes pixelMoney { 0% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-4px) rotate(180deg); } 100% { transform: translateY(0) rotate(360deg); } }
        @keyframes pixelHeart { 0% { transform: scale(1) translate(0,0); } 50% { transform: scale(1.15) translate(4px,-4px); } 100% { transform: scale(1) translate(0,0); } }
        @keyframes pixelSnow { 0% { transform: rotate(0deg) translate(0,0); } 50% { transform: rotate(180deg) translate(4px,4px); } 100% { transform: rotate(360deg) translate(0,0); } }
        @keyframes pixelSteam { 0% { transform: scaleY(1); opacity: 1; } 50% { transform: scaleY(1.15); opacity: 0.8; } 100% { transform: scaleY(1); opacity: 1; } }
        @keyframes pixelWind { 0% { transform: translateX(0) rotate(0deg); } 50% { transform: translateX(8px) rotate(8deg); } 100% { transform: translateX(0) rotate(0deg); } }
        @keyframes pixelStar { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.25); opacity: 0.8; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes borderGlow { 0% { background-position: 0% 50%; } 100% { background-position: 300% 50%; } }
        @keyframes rainbowShadow {
            0% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #D81F26,0 0 80px #D81F26; }
            16% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #FFC107,0 0 80px #FFC107; }
            32% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #90EE90,0 0 80px #90EE90; }
            48% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #87CEEB,0 0 80px #87CEEB; }
            64% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #7B1FA2,0 0 80px #7B1FA2; }
            80% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #FF69B4,0 0 80px #FF69B4; }
            100% { box-shadow: 0 0 30px #fff,0 0 40px #fff,0 0 60px #D81F26,0 0 80px #D81F26; }
        }
        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .font-kuaile { font-family: 'ZCOOL KuaiLe', cursive; }
        .text-gradient-redgold {
            background-clip: text; -webkit-background-clip: text; color: transparent;
            background-image: linear-gradient(90deg, #D81F26, #FFC107);
            text-shadow: 0 0 15px rgba(255,193,7,0.7);
        }
        .shadow-custom { box-shadow: 0 15px 40px -8px rgba(216,31,38,0.4),0 6px 20px rgba(255,193,7,0.3); }
        .shadow-gold { box-shadow: 0 0 40px rgba(255,193,7,1),0 0 20px rgba(255,193,7,0.8); }
        .perspective { perspective: 1500px; }
        .backface-hidden { backface-visibility: hidden; }
        .pixel-container {
            position: relative; display: inline-flex; align-items: center; justify-content: center;
            width: 180px; height: 180px; image-rendering: pixelated; image-rendering: crisp-edges;
        }
        .pixel-horse {
            position: relative; z-index: 2; width: 120px; height: 120px;
            image-rendering: pixelated; animation: pixelBreathe 1.5s ease-in-out infinite alternate;
        }
        .pixel-feature { position: absolute; z-index: 3; width: 40px; height: 40px; image-rendering: pixelated; }
        .pixel-minor { position: absolute; z-index: 1; width: 30px; height: 30px; image-rendering: pixelated; }
        .worker-tag {
            position: absolute; top: 20px; right: 10px; background: #D81F26; color: white;
            font-size: 12px; padding: 2px 8px; border-radius: 10px; transform: rotate(15deg);
            font-weight: bold; z-index: 4; font-family: 'ZCOOL KuaiLe', cursive;
        }
        .pixel-steam {
            position: absolute; top: 30px; left: 50%; transform: translateX(-50%);
            width: 25px; height: 18px; background: rgba(255,255,255,0.9);
            border-radius: 40%; animation: pixelSteam 2s ease-in-out infinite; z-index: 3;
            border: 2px solid #EEEEEE;
        }
        .pixel-steam::before {
            content: ''; position: absolute; width: 18px; height: 14px;
            top: -10px; left: 4px; background: rgba(255,255,255,0.9);
            border-radius: 40%; border: 2px solid #EEEEEE;
            animation: pixelSteam 2s ease-in-out infinite 0.3s;
        }
        .pixel-steam::after {
            content: ''; position: absolute; width: 14px; height: 10px;
            top: -20px; left: 8px; background: rgba(255,255,255,0.9);
            border-radius: 40%; border: 2px solid #EEEEEE;
            animation: pixelSteam 2s ease-in-out infinite 0.6s;
        }
        .confetti-item { position: absolute !important; pointer-events: none !important; z-index: 9999 !important; image-rendering: pixelated; opacity: 0.8; transition: all 2s ease; }
        .btn-custom { transition: all 0.3s ease; cursor: pointer; }
        .btn-custom:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,193,7,0.8); }
        .btn-icon { display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; }
        
        /* ä¿®å¤Toastæ ·å¼ */
        #toast {
            transition: opacity 0.3s ease, transform 0.3s ease;
            transform: translate(-50%, 0);
        }
        #toast.hidden {
            transform: translate(-50%, 20px);
            opacity: 0;
        }

        /* å„ç­¾å‹ä¸“å±è¾¹æ¡†æ ·å¼ */
        .card-container-normal {
            background: #ffffff;
            border-radius: 2rem;
            border: 4px solid #1976D2;
            box-shadow: 0 0 20px rgba(25, 118, 210, 0.6);
        }
        .card-container-rare {
            background: #ffffff;
            border-radius: 2rem;
            border: 4px solid #7B1FA2;
            box-shadow: 0 0 20px rgba(123, 31, 162, 0.6);
        }
        .card-container-legend {
            background: #ffffff;
            border-radius: 2rem;
            border: 4px solid #FFC107;
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.8);
        }
        .card-container-hidden {
            position: relative;
            border-radius: 1rem;
            background: #ffffff;
            z-index: 1;
            padding: 3px;
            margin: 0 auto;
            max-width: 500px;
        }
        .card-container-hidden::before {
            content: ''; 
            position: absolute; 
            top: -6px; left: -6px; right: -6px; bottom: -6px;
            background: linear-gradient(90deg, #D81F26 0%,#FFC107 17%,#90EE90 33%,#87CEEB 50%,#7B1FA2 67%,#FF69B4 83%,#D81F26 100%);
            background-size: 400% 400%; 
            border-radius: 1.3rem; 
            z-index: -1;
            animation: borderGlow 1.5s linear infinite; 
            filter: blur(0.5px); 
            opacity: 1;
        }

        /* ç­¾å¡å†…å®¹åŒºç»Ÿä¸€æ ·å¼ */
        .card-inner {
            background: linear-gradient(120deg, #FFE6E8, #FFF8E1);
            border-radius: 0.8rem;
            padding: 10px;
            border: 2px solid rgba(255,255,255,1);
            box-shadow: inset 0 0 20px rgba(255,255,255,1);
        }
        /* éšè—ç­¾é¢å¤–ç‰¹æ•ˆ */
        .rainbow-glow {
            animation: rainbowShadow 1.5s linear infinite !important;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        newyear: { red: '#D81F26', gold: '#FFC107', goldDark: '#FF8C00', redLight: '#FFE6E8', redDark: '#B71C1C', dark: '#212121' },
                        rarity: { normal: '#1976D2', rare: '#7B1FA2', legend: '#FFC107', hidden: 'linear-gradient(90deg, #D81F26, #FFC107, #7B1FA2, #EC407A)' }
                    },
                    fontFamily: { kuaile: ['ZCOOL KuaiLe', 'cursive'], noto: ['Noto Sans SC', 'sans-serif'] }
                }
            }
        }
    </script>
</head>
<body>
    <div class="w-full pt-6 px-4 flex justify-between items-center border-b-2 border-newyear-red/30 pb-4">
        <div class="text-newyear-red font-kuaile text-xl md:text-2xl font-bold animate-pulse">æ„¿æ‰€æ±‚çš†å¦‚æ„¿</div>
        <div class="text-newyear-gold font-kuaile text-3xl md:text-4xl shadow-gold/80 animate-[glow_1.5s_ease-in-out_infinite_alternate]">2026</div>
    </div>

    <div class="container mx-auto px-4 py-10 max-w-3xl">
        <div class="text-center mb-10 md:mb-16">
            <h1 class="font-kuaile text-[clamp(2.8rem,7vw,4.5rem)] text-gradient-redgold mb-4 animate-[glow_1.5s_ease-in-out_infinite_alternate]">2026 æ–°å¹´ç­¾</h1>
            <p class="font-kuaile text-[clamp(1.5rem,4vw,2.2rem)] text-newyear-red font-bold animate-pulse">æµ‹æµ‹ä½ æ˜¯ä»€ä¹ˆé©¬</p>
        </div>

        <div id="draw-area" class="flex flex-col items-center justify-center mb-16">
            <div id="lottery-tube" class="w-40 h-56 md:w-48 md:h-72 bg-gradient-to-b from-newyear-red to-newyear-redDark rounded-t-full rounded-b-2xl relative animate-[float_2s_ease-in-out_infinite] cursor-pointer shadow-custom hover:shadow-gold hover:scale-120 transition-all duration-700 mb-8 border-4 border-newyear-gold/90">
                <div class="absolute top-5 left-0 right-0 h-20 bg-newyear-gold/50 rounded-t-full"></div>
                <div class="absolute bottom-0 left-0 right-0 h-14 bg-newyear-redDark rounded-b-2xl border-t-4 border-newyear-gold/70"></div>
                <div class="absolute top-10 left-1/2 -translate-x-1/2 w-20 h-32 md:w-28 md:h-40 bg-white/95 rounded-t-lg shadow-inner flex items-center justify-center border-4 border-newyear-gold animate-pulse">
                    <span class="font-kuaile text-newyear-red text-2xl md:text-3xl font-bold">ç­¾</span>
                </div>
            </div>
            <button id="draw-btn" class="bg-newyear-red hover:bg-newyear-redDark text-white font-kuaile text-2xl md:text-3xl py-5 px-12 rounded-full shadow-custom hover:shadow-gold hover:scale-110 transition-all duration-700 flex items-center gap-4 border-4 border-newyear-gold btn-custom">
                <span class="btn-icon text-3xl">ğŸ®</span>æŠ½ä¸€æ”¯é©¬è¿ç­¾
            </button>
        </div>

        <div id="loading-area" class="hidden flex flex-col items-center justify-center py-16">
            <div class="w-28 h-28 md:w-36 md:h-36 mb-8">
                <div class="pixel-horse animate-spin" style="width: 100px; height: 100px;">
                    <svg viewBox="0 0 40 32" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <circle cx="4" cy="16" r="1" fill="#333"/>
                        <path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <rect x="8" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <rect x="12" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <rect x="24" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <rect x="28" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                        <path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/>
                    </svg>
                </div>
            </div>
            <p class="font-kuaile text-3xl md:text-4xl text-newyear-red font-bold animate-pulse">æ­£åœ¨ä¸ºä½ æŠ½å–ä¸“å±é©¬ç­¾...</p>
        </div>

        <div id="result-area" class="hidden perspective mb-16">
            <div id="result-card-container" class="bg-white rounded-2xl shadow-custom backface-hidden card-container-normal">
                <div id="result-card" class="p-10 md:p-12 card-inner animate-[popIn_0.8s_ease-out_forwards]">
                    <div id="fortune-rank" class="inline-block px-8 py-3 rounded-full mb-6 font-kuaile text-newyear-red bg-newyear-gold text-xl md:text-2xl font-bold shadow-gold/80 animate-pulse">ä¸Šä¸Šç­¾</div>
                    <h2 id="horse-type" class="font-kuaile text-[clamp(2.2rem,6vw,3.5rem)] text-gradient-redgold text-center mb-6 animate-[glow_0.8s_ease-in-out_infinite_alternate]">åƒé‡Œé©¬</h2>
                    <div id="horse-icon" class="flex justify-center mb-8 pixel-container"></div>
                    <p id="fortune-text" class="font-noto text-2xl md:text-3xl text-newyear-dark text-center mb-6 leading-relaxed px-4 md:px-0">
                        ä½ æ˜¯ä¸€åŒ¹å¿—åœ¨åƒé‡Œçš„åƒé‡Œé©¬ï¼Œ2026å¹´ä½ çš„æ‰åç»ˆå°†è¢«å‘ç°ï¼Œåªè¦åšæŒå‰è¡Œï¼Œç»ˆèƒ½åˆ°è¾¾ç†æƒ³çš„å½¼å²¸ã€‚
                    </p>
                    <div id="fortune-blessing" class="bg-newyear-redLight/90 rounded-xl p-8 md:p-10 mt-8 font-kuaile text-2xl md:text-3xl text-newyear-red text-center border-l-8 border-newyear-gold shadow-custom/80 animate-pulse">
                        ç­–é©¬å¥”è…¾ï¼Œå‰ç¨‹ä¼¼é”¦
                    </div>
                    <div class="flex flex-wrap justify-center gap-8 mt-10">
                        <button id="generate-img-btn" class="bg-[#7B1FA2]/90 hover:bg-newyear-gold hover:text-newyear-dark text-white font-kuaile py-4 px-10 rounded-full transition-all duration-500 flex items-center gap-3 border-4 border-newyear-gold hover:shadow-gold hover:scale-110 text-xl btn-custom">
                            <span class="btn-icon text-2xl">ğŸ–¼ï¸</span>ç”Ÿæˆå›¾ç‰‡
                        </button>
                        <button id="draw-again-btn" class="bg-newyear-red hover:bg-newyear-gold hover:text-newyear-dark text-white font-kuaile py-4 px-10 rounded-full transition-all duration-500 flex items-center gap-3 border-4 border-newyear-gold hover:shadow-gold hover:scale-110 text-xl btn-custom">
                            <span class="btn-icon text-2xl">ğŸ”„</span>å†æŠ½ä¸€æ¬¡
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="image-viewer" class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full relative border-6 border-newyear-gold shadow-gold">
            <button id="close-viewer" class="absolute top-4 right-4 text-newyear-red hover:text-newyear-gold transition-colors text-3xl btn-custom">
                <span class="btn-icon">âŒ</span>
            </button>
            <h3 class="font-kuaile text-2.5xl text-center mb-6 text-newyear-red font-bold">ä½ çš„2026é©¬å¹´ç­¾</h3>
            <div id="image-preview" class="bg-newyear-redLight/50 p-6 rounded-lg mb-6 flex justify-center border-4 border-newyear-gold/70"></div>
            <div class="text-center text-xl text-newyear-dark mb-6">
                <p class="font-kuaile">ä¿å­˜å›¾ç‰‡åˆ†äº«åˆ°å¾®ä¿¡ï¼Œè¿æ¥æ–°å¹´å¥½è¿ï¼</p>
            </div>
            <button id="download-img-btn" class="w-full bg-newyear-red hover:bg-newyear-gold hover:text-newyear-red text-white font-kuaile py-4 rounded-full transition-all duration-500 flex items-center justify-center gap-3 border-4 border-newyear-gold text-2xl btn-custom">
                <span class="btn-icon text-2xl">ğŸ“¥</span>ä¸‹è½½å›¾ç‰‡
            </button>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-newyear-red text-white px-10 py-5 rounded-full font-noto z-50 hidden opacity-0 transition-opacity duration-300 text-xl border-4 border-newyear-gold shadow-gold">
        æ“ä½œæç¤º
    </div>
    <div id="confetti-container" class="fixed inset-0 pointer-events-none z-9999"></div>

    <script>
        // å…¨å±€å˜é‡å®šä¹‰
        let currentHorseData = null;
        let drawArea, loadingArea, resultArea, drawBtn, lotteryTube, generateImgBtn, drawAgainBtn;
        let imageViewer, closeViewer, downloadImgBtn, imagePreview, toast, confettiContainer;

        // é©¬ç­¾æ•°æ®ï¼ˆå®Œå…¨ä¿ç•™åŸæœ‰ç±»å‹ï¼Œæœªåšä»»ä½•ä¿®æ”¹ï¼‰
        const pixelHorseData = [
            // æ™®é€šç­¾ 10ç§ (æ¦‚ç‡40%)
            { id:1,type:'normal',horseType:'åƒé‡Œé©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¿—åœ¨åƒé‡Œçš„åƒé‡Œé©¬ï¼Œ2026å¹´ä½ çš„æ‰åç»ˆå°†è¢«å‘ç°ï¼Œåªè¦åšæŒå‰è¡Œï¼Œç»ˆèƒ½åˆ°è¾¾ç†æƒ³çš„å½¼å²¸ã€‚',blessing:'ç­–é©¬å¥”è…¾ï¼Œå‰ç¨‹ä¼¼é”¦',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M2 8 L6 4 L10 8 L6 12 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/><path d="M4 8 L8 6 L12 8 L8 10 Z" fill="#87CEEB" stroke="#333" stroke-width="1" opacity="0.7"/></svg>`,featurePos:{top:'20%',right:'10%'},featureAnim:'pixelWind'},
            { id:2,type:'normal',horseType:'å’Œé©¬',text:'ä½ æ˜¯ä¸€åŒ¹å’Œå’Œæ°”æ°”çš„å’Œé©¬ï¼Œ2026å¹´ç¦æ°”æ»¡æ»¡ï¼Œå®¶å®…å¹³å®‰ï¼Œä¸‡äº‹é¡ºé‚ï¼Œå‰åº†æœ‰ä½™ã€‚',blessing:'é¾™é©¬ç²¾ç¥ï¼Œå’Œæ°”ç”Ÿè´¢',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#98FB98" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#98FB98" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#98FB98" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#98FB98" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#98FB98" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#98FB98" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#98FB98" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#98FB98" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M8,2 L10,6 L12,2 L14,4 L10,8 L14,12 L12,14 L8,10 L4,14 L2,12 L6,8 L2,4 L4,2 Z" fill="#98FB98" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'20%',left:'10%'},featureAnim:'pixelBreathe'},
            { id:3,type:'normal',horseType:'è´¢è¿é©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¸¦æ¥è´¢è¿çš„è´¢è¿é©¬ï¼Œ2026å¹´è´¢æºå¹¿è¿›ï¼Œæ”¶å…¥ç¨³å®šï¼Œå°è´¢ä¸æ–­ï¼Œå¤§è´¢å¯æœŸã€‚',blessing:'é©¬ä¸Šæœ‰é’±ï¼Œè´¢è¿äº¨é€š',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FFFFE0" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FFFFE0" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FFFFE0" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FFFFE0" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FFFFE0" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FFFFE0" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FFFFE0" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FFFFE0" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="6" fill="#FFC107" stroke="#333" stroke-width="1"/><text x="8" y="11" font-size="8" text-anchor="middle" fill="#333">Â¥</text></svg>`,featurePos:{top:'20%',right:'10%'},featureAnim:'pixelMoney'},
            { id:4,type:'normal',horseType:'çº¯ç‰›é©¬',text:'ä½ æ˜¯ä¸€åŒ¹å…¢å…¢ä¸šä¸šçš„çº¯ç‰›é©¬ï¼Œ2026å¹´å·¥ä½œé¡ºåˆ©ï¼Œä¸šç»©çªå‡ºï¼Œå¾—åˆ°é¢†å¯¼èµè¯†ï¼Œæ™‹å‡æœ‰æœ›ã€‚',blessing:'ç‰›é©¬å½“å…ˆï¼Œäº‹ä¸šè…¾é£',horseAnim:'pixelBreathe',hasTag:true,tagText:'æ‰“å·¥äºº',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FFA500" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FFA500" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FFA500" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FFA500" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FFA500" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FFA500" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FFA500" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FFA500" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="4" width="12" height="8" fill="#87CEEB" stroke="#333" stroke-width="1"/><rect x="4" y="2" width="8" height="2" fill="#87CEEB" stroke="#333" stroke-width="1"/><line x1="8" y1="4" x2="8" y2="12" stroke="#333" stroke-width="1"/></svg>`,featurePos:{bottom:'20%',left:'10%'},featureAnim:'pixelBreathe'},
            { id:5,type:'normal',horseType:'æ¡ƒèŠ±é©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¸¦æ¥æ¡ƒèŠ±çš„æ¡ƒèŠ±é©¬ï¼Œ2026å¹´äººç¼˜æ—ºç››ï¼Œå¼‚æ€§ç¼˜ä½³ï¼Œå•èº«è€…æœ‰æœ›è„±å•ï¼Œæœ‰ä¼´ä¾£è€…æ„Ÿæƒ…å‡æ¸©ã€‚',blessing:'é©¬ä¸Šæœ‰å¯¹è±¡ï¼Œå§»ç¼˜ç¾æ»¡',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M8,2 C5,2 2,5 2,8 C2,11 5,14 8,16 C11,14 14,11 14,8 C14,5 11,2 8,2 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'20%',left:'10%'},featureAnim:'pixelHeart'},
            { id:6,type:'normal',horseType:'å¥‹æ–—é©¬',text:'ä½ æ˜¯ä¸€åŒ¹åŠªåŠ›å¥‹æ–—çš„å¥‹æ–—é©¬ï¼Œ2026å¹´ä»˜å‡ºç»ˆæœ‰å›æŠ¥ï¼Œæ‰€æœ‰åŠªåŠ›éƒ½èƒ½å¼€èŠ±ç»“æœï¼Œå®ç°ç›®æ ‡ã€‚',blessing:'å¥‹æ–—ä¸æ­¢ï¼Œé©¬åˆ°åŠŸæˆ',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M8 2 L12 8 L4 8 Z" fill="#FFC107" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'15%',right:'15%'},featureAnim:'pixelStar'},
            { id:7,type:'normal',horseType:'èººå¹³é©¬',text:'ä½ æ˜¯ä¸€åŒ¹ä½›ç³»èººå¹³çš„èººå¹³é©¬ï¼Œ2026å¹´å¿ƒæ€å¹³å’Œï¼Œéšé‡è€Œå®‰ï¼Œäº«å—ç”Ÿæ´»ä¸­çš„å°ç¾å¥½ï¼Œå¹¸ç¦æ„Ÿæ»¡æ»¡ã€‚',blessing:'èººå¹³ä¸èººè¾“ï¼Œæ‚ ç„¶è‡ªå¾—',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="5" fill="#87CEEB" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'20%',left:'10%'},featureAnim:'pixelBreathe'},
            { id:8,type:'normal',horseType:'å¹²é¥­é©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¹²é¥­ç¬¬ä¸€åçš„å¹²é¥­é©¬ï¼Œ2026å¹´åƒå–ä¸æ„ï¼Œç¾é£Ÿç›¸ä¼´ï¼Œèº«ä½“å¥åº·ï¼Œèƒƒå£å¸¸å¼€ã€‚',blessing:'å¹²é¥­ä¸æ‰“çƒŠï¼Œå¿«ä¹ä¸é‡æ ·',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FF5722" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FF5722" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FF5722" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="6" width="10" height="6" fill="#FFC107" stroke="#333" stroke-width="1"/><circle cx="8" cy="9" r="2" fill="#333"/></svg>`,featurePos:{bottom:'15%',right:'10%'},featureAnim:'pixelBreathe'},
            { id:9,type:'normal',horseType:'æ‘¸é±¼é©¬',text:'ä½ æ˜¯ä¸€åŒ¹æœºæ™ºæ‘¸é±¼çš„æ‘¸é±¼é©¬ï¼Œ2026å¹´å·¥ä½œæ•ˆç‡é«˜ï¼Œæ‘¸é±¼æœ‰æŠ€å·§ï¼ŒåŠ³é€¸ç»“åˆï¼Œäº‹åŠåŠŸå€ã€‚',blessing:'æ‘¸é±¼æœ‰æœ¯ï¼Œå·¥ä½œæœ‰åº¦',horseAnim:'pixelBreathe',hasTag:true,tagText:'æ‘¸é±¼è¾¾äºº',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#607D8B" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#607D8B" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#607D8B" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#607D8B" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#607D8B" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#607D8B" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#607D8B" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#607D8B" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M4 8 C4 4, 12 4, 12 8 C12 12, 4 12, 4 8 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'15%',right:'15%'},featureAnim:'pixelBreathe'},
            { id:10,type:'normal',horseType:'å¥½è¿é©¬',text:'ä½ æ˜¯ä¸€åŒ¹è‡ªå¸¦å¥½è¿çš„å¥½è¿é©¬ï¼Œ2026å¹´å¥½è¿è¿è¿ï¼Œå¿ƒæƒ³äº‹æˆï¼Œæ‰€æœ‰çš„å°å¹¸è¿éƒ½å›´ç»•ç€ä½ ã€‚',blessing:'å¥½è¿çˆ†æ£šï¼Œå–œäº‹è¿è¿',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FFEB3B" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FFEB3B" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FFEB3B" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FFEB3B" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FFEB3B" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FFEB3B" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FFEB3B" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FFEB3B" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="6" fill="#FFC107" stroke="#333" stroke-width="1"/><text x="8" y="11" font-size="8" text-anchor="middle" fill="#333">å‰</text></svg>`,featurePos:{top:'15%',left:'15%'},featureAnim:'pixelStar'},
            // ç¨€æœ‰ç­¾ 8ç§ (æ¦‚ç‡30%)
            { id:11,type:'rare',horseType:'èµ¤å…”é©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¨éœ‡å››æ–¹çš„èµ¤å…”é©¬ï¼Œ2026å¹´èƒ½åŠ›å‡ºä¼—ï¼Œé­„åŠ›åè¶³ï¼Œæˆä¸ºä¼—äººç©ç›®çš„ç„¦ç‚¹ï¼Œæˆå°±éå‡¡ã€‚',blessing:'äººä¸­å•å¸ƒï¼Œé©¬ä¸­èµ¤å…”',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#D81F26" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#D81F26" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#D81F26" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#D81F26" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#D81F26" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#D81F26" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#D81F26" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#D81F26" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><polygon points="4,12 8,8 6,8 6,4 10,8 8,8 12,12 8,8 10,8 10,12" fill="#FFFF00" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'10%',right:'10%'},featureAnim:'pixelBreathe'},
            { id:12,type:'rare',horseType:'è¸é›ªé©¬',text:'ä½ æ˜¯ä¸€åŒ¹çº¯æ´é«˜é›…çš„è¸é›ªé©¬ï¼Œ2026å¹´æ°”è´¨å‡ºä¼—ï¼Œå“è¡Œé«˜æ´ï¼Œç”Ÿæ´»ç®€å•è€Œç¾å¥½ï¼Œå†…å¿ƒå¹³é™ã€‚',blessing:'è¸é›ªå¯»æ¢…ï¼Œå¿ƒå¢ƒæ‚ ç„¶',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="1" fill="#333"/><line x1="8" y1="2" x2="8" y2="14" stroke="#333" stroke-width="1"/><line x1="2" y1="8" x2="14" y2="8" stroke="#333" stroke-width="1"/><line x1="4" y1="4" x2="12" y2="12" stroke="#333" stroke-width="1"/><line x1="4" y1="12" x2="12" y2="4" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'10%',right:'10%'},featureAnim:'pixelSnow'},
            { id:13,type:'rare',horseType:'è¿½é£é©¬',text:'ä½ æ˜¯ä¸€åŒ¹é£é©°ç”µæ£çš„è¿½é£é©¬ï¼Œ2026å¹´è¡ŒåŠ¨åŠ›è¶…å¼ºï¼Œæƒ³åˆ°å°±åšï¼Œæ‰€æœ‰è®¡åˆ’éƒ½èƒ½å¿«é€Ÿè½åœ°è§æ•ˆã€‚',blessing:'è¿½é£é€æ¢¦ï¼Œä¸€å¾€æ— å‰',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#2196F3" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#2196F3" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#2196F3" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#2196F3" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#2196F3" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#2196F3" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#2196F3" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#2196F3" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M2 8 L6 6 L10 8 L6 10 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/><path d="M6 8 L10 6 L14 8 L10 10 Z" fill="#87CEEB" stroke="#333" stroke-width="1" opacity="0.7"/></svg>`,featurePos:{top:'15%',right:'10%'},featureAnim:'pixelWind'},
            { id:14,type:'rare',horseType:'å¯Œè´µé©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¯Œè´µå‰ç¥¥çš„å¯Œè´µé©¬ï¼Œ2026å¹´è´¢è¿äº¨é€šï¼Œè´µäººç›¸åŠ©ï¼Œç”Ÿæ´»å¯Œè¶³ï¼Œå¿ƒæƒ³äº‹æˆã€‚',blessing:'å¯Œè´µè£åï¼Œå‰ç¥¥å¦‚æ„',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FFD700" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FFD700" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FFD700" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FFD700" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FFD700" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FFD700" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FFD700" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FFD700" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="3" width="10" height="10" fill="#FFC107" stroke="#333" stroke-width="1"/><text x="8" y="11" font-size="8" text-anchor="middle" fill="#333">ç¦</text></svg>`,featurePos:{top:'15%',left:'10%'},featureAnim:'pixelBreathe'},
            { id:15,type:'rare',horseType:'æ™ºæ…§é©¬',text:'ä½ æ˜¯ä¸€åŒ¹èªæ…§è¿‡äººçš„æ™ºæ…§é©¬ï¼Œ2026å¹´æ€è·¯æ¸…æ™°ï¼Œå†³ç­–æ˜æ™ºï¼Œè½»æ¾è§£å†³å„ç§éš¾é¢˜å’ŒæŒ‘æˆ˜ã€‚',blessing:'æ™ºæ…§è¶…ç¾¤ï¼Œä¸‡äº‹é€šè¾¾',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M8 2 L10 6 L14 6 L12 9 L14 12 L10 12 L8 14 L6 12 L2 12 L4 9 L2 6 L6 6 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'10%',left:'10%'},featureAnim:'pixelStar'},
            { id:16,type:'rare',horseType:'å¥¶èŒ¶é©¬',text:'ä½ æ˜¯ä¸€åŒ¹è½¯èŒå¯çˆ±çš„å¥¶èŒ¶é©¬ï¼Œ2026å¹´ç”Ÿæ´»ç”œç”œèœœèœœï¼Œå°ç¡®å¹¸ä¸æ–­ï¼Œèº«è¾¹æœ‹å‹éƒ½å¯¹ä½ å® çˆ±æœ‰åŠ ã€‚',blessing:'å¥¶èŒ¶ç»­å‘½ï¼Œå¿«ä¹åŠ å€',horseAnim:'pixelBreathe',hasSteam:true,horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#DEB887" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#DEB887" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#DEB887" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#DEB887" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#DEB887" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#DEB887" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#DEB887" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#DEB887" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="6" width="8" height="8" fill="#DEB887" stroke="#333" stroke-width="1"/><circle cx="8" cy="9" r="1.5" fill="#333"/></svg>`,featurePos:{bottom:'15%',left:'10%'},featureAnim:'pixelBreathe'},
{ id:17,type:'rare',horseType:'é”¦é²¤é©¬',text:'ä½ æ˜¯ä¸€åŒ¹é”¦é²¤é™„ä½“çš„é”¦é²¤é©¬ï¼Œ2026å¹´å¥½è¿çˆ†æ£šï¼Œå¿ƒæƒ³äº‹æˆï¼Œæ‰€æœ‰çš„å¥½äº‹éƒ½èƒ½è½®åˆ°ä½ ã€‚',blessing:'é”¦é²¤é™„ä½“ï¼Œå¥½è¿è¿è¿',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FF69B4" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M4 8 C4 5, 8 4, 12 8 C12 11, 8 12, 4 8 Z" fill="#FFC107" stroke="#333" stroke-width="1"/><path d="M6 8 L8 6 L10 8 L8 10 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'15%',right:'10%'},featureAnim:'pixelStar'},
{ id:18,type:'rare',horseType:'é€é¥é©¬',text:'ä½ æ˜¯ä¸€åŒ¹é€é¥è‡ªåœ¨çš„é€é¥é©¬ï¼Œ2026å¹´æ— æ‹˜æ— æŸï¼Œè‡ªç”±æ´’è„±ï¼Œäº«å—ç”Ÿæ´»ï¼Œå¿«ä¹æ— å¿§ã€‚',blessing:'é€é¥è‡ªåœ¨ï¼Œå¿«ä¹æ— è¾¹',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#87CEEB" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#87CEEB" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#87CEEB" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#87CEEB" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M2 8 L6 4 L10 8 L6 12 Z" fill="#98FB98" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'15%',left:'10%'},featureAnim:'pixelWind'},
// ä¼ è¯´ç­¾ 5ç§ (æ¦‚ç‡25%)
{ id:19,type:'legend',horseType:'æ±—è¡€å®é©¬',text:'ä½ æ˜¯ä¸€åŒ¹ç¨€ä¸–ç½•è§çš„æ±—è¡€å®é©¬ï¼Œ2026å¹´å¤©èµ‹å¼‚ç¦€ï¼Œèƒ½åŠ›è¶…ç¾¤ï¼Œæˆä¸ºè¡Œä¸šä¸­çš„ä½¼ä½¼è€…ï¼Œå…‰èŠ’ä¸‡ä¸ˆã€‚',blessing:'äººä¸­é¾™å‡¤ï¼Œé©¬ä¸­éªéª¥',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FF5722" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FF5722" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FF5722" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FF5722" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="6" fill="#FFC107" stroke="#333" stroke-width="1"/><text x="8" y="11" font-size="8" text-anchor="middle" fill="#333">ç¨€</text></svg>`,featurePos:{top:'10%',right:'10%'},featureAnim:'pixelStar'},
{ id:20,type:'legend',horseType:'çš„å¢é©¬',text:'ä½ æ˜¯ä¸€åŒ¹é€¢å‡¶åŒ–å‰çš„çš„å¢é©¬ï¼Œ2026å¹´è™½æœ‰å°æ³¢æŠ˜ï¼Œä½†æ€»èƒ½åŒ–é™©ä¸ºå¤·ï¼Œè´µäººç›¸åŠ©ï¼Œè½¬å±ä¸ºå®‰ã€‚',blessing:'çš„å¢ä¸€è·ƒï¼Œé™©é€”å˜å¦é€”',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#4CAF50" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#4CAF50" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M8 2 L10 6 L14 6 L12 9 L14 12 L10 12 L8 14 L6 12 L2 12 L4 9 L2 6 L6 6 Z" fill="#FFC107" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'10%',left:'10%'},featureAnim:'pixelStar'},
{ id:21,type:'legend',horseType:'ç™½é¾™é©¬',text:'ä½ æ˜¯ä¸€åŒ¹æ²‰ç¨³åšéŸ§çš„ç™½é¾™é©¬ï¼Œ2026å¹´æ„å¿—åšå®šï¼Œç›®æ ‡æ˜ç¡®ï¼Œå†ç»è€ƒéªŒç»ˆæˆæ­£æœï¼Œæ”¶è·æ»¡æ»¡ã€‚',blessing:'å¿ƒæœ‰å±±æµ·ï¼Œé™è€Œæ— è¾¹',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#FFFFFF" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#FFFFFF" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M4 8 L8 4 L12 8 L8 12 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'15%',right:'10%'},featureAnim:'pixelBreathe'},
{ id:22,type:'legend',horseType:'ä¹Œéª“é©¬',text:'ä½ æ˜¯ä¸€åŒ¹å¿ å‹‡æ— åŒçš„ä¹Œéª“é©¬ï¼Œ2026å¹´é‡æƒ…é‡ä¹‰ï¼Œè´µäººç›¸åŠ©ï¼Œäº‹ä¸šå®¶åº­åŒä¸°æ”¶ï¼Œåœ†æ»¡å¹¸ç¦ã€‚',blessing:'å¿ å‹‡åŒå…¨ï¼Œç¦æ°”æ»¡å ‚',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#212121" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#FFFFFF"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#212121" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#212121" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#212121" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#212121" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#212121" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#212121" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#212121" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M8,2 C5,2 2,5 2,8 C2,11 5,14 8,16 C11,14 14,11 14,8 C14,5 11,2 8,2 Z" fill="#FF69B4" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'15%',left:'10%'},featureAnim:'pixelHeart'},
{ id:23,type:'legend',horseType:'ç»å½±é©¬',text:'ä½ æ˜¯ä¸€åŒ¹é€Ÿåº¦è¶…ç¾¤çš„ç»å½±é©¬ï¼Œ2026å¹´æ•ˆç‡æé«˜ï¼Œäº‹äº‹é¢†å…ˆï¼ŒæŠ“ä½æ‰€æœ‰æœºé‡ï¼Œæˆå°±æ–ç„¶ã€‚',blessing:'ç–¾å¦‚é—ªç”µï¼ŒåŠ¿ä¸å¯æŒ¡',horseAnim:'pixelRun',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="#9C27B0" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="#9C27B0" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M2 8 L8 4 L14 8 L8 12 Z" fill="#FFC107" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'10%',right:'10%'},featureAnim:'pixelWind'},
// éšè—ç­¾ 1ç§ (æ¦‚ç‡5%)
{ id:24,type:'hidden',horseType:'ç¥é©¬',text:'æ­å–œä½ æŠ½åˆ°éšè—æ¬¾ç¥é©¬ï¼2026å¹´ä½ å°†æ‹¥æœ‰å¼€æŒ‚èˆ¬çš„è¿æ°”ï¼Œå¿ƒæƒ³äº‹æˆï¼Œä¸‡äº‹å¦‚æ„ï¼Œå¥½è¿æŒ¡ä¸ä½ï¼',blessing:'ç¥é©¬é™ä¸´ï¼Œå¥½è¿çˆ†æ£š',horseAnim:'pixelBreathe',horseSvg:`<svg viewBox="0 0 40 32" width="120" height="120" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="rainbow" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#D81F26"/><stop offset="17%" stop-color="#FFC107"/><stop offset="33%" stop-color="#90EE90"/><stop offset="50%" stop-color="#87CEEB"/><stop offset="67%" stop-color="#7B1FA2"/><stop offset="83%" stop-color="#FF69B4"/><stop offset="100%" stop-color="#D81F26"/></linearGradient></defs><path d="M6 16 L4 14 L2 16 L4 18 Z" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><circle cx="4" cy="16" r="1" fill="#333"/><path d="M6 16 L10 14 L30 14 L34 16 L30 18 L10 18 Z" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><rect x="8" y="18" width="2" height="6" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><rect x="12" y="18" width="2" height="6" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><rect x="24" y="18" width="2" height="6" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><rect x="28" y="18" width="2" height="6" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><path d="M30 14 L34 12 L36 14 L34 16 Z" fill="url(#rainbow)" stroke="#333" stroke-width="1"/><path d="M6 14 L4 12 L6 10 L8 12 Z" fill="url(#rainbow)" stroke="#333" stroke-width="1"/></svg>`,featureSvg:`<svg viewBox="0 0 16 16" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="starGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#FFC107"/><stop offset="100%" stop-color="#FFFF00"/></linearGradient></defs><path d="M8 2 L10 6 L14 6 L12 9 L14 12 L10 12 L8 14 L6 12 L2 12 L4 9 L2 6 L6 6 Z" fill="url(#starGradient)" stroke="#333" stroke-width="1"/></svg>`,featurePos:{top:'10%',left:'10%'},featureAnim:'pixelStar'}
];

// DOMåŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
    // è·å–DOMå…ƒç´ 
    drawArea = document.getElementById('draw-area');
    loadingArea = document.getElementById('loading-area');
    resultArea = document.getElementById('result-area');
    drawBtn = document.getElementById('draw-btn');
    lotteryTube = document.getElementById('lottery-tube');
    generateImgBtn = document.getElementById('generate-img-btn');
    drawAgainBtn = document.getElementById('draw-again-btn');
    imageViewer = document.getElementById('image-viewer');
    closeViewer = document.getElementById('close-viewer');
    downloadImgBtn = document.getElementById('download-img-btn');
    imagePreview = document.getElementById('image-preview');
    toast = document.getElementById('toast');
    confettiContainer = document.getElementById('confetti-container');

    // ç»‘å®šäº‹ä»¶
    drawBtn.addEventListener('click', drawLottery);
    lotteryTube.addEventListener('click', drawLottery);
    drawAgainBtn.addEventListener('click', resetDraw);
    generateImgBtn.addEventListener('click', generateImage);
    closeViewer.addEventListener('click', closeImageViewer);
    downloadImgBtn.addEventListener('click', downloadImage);

    // åˆå§‹åŒ–ToastçŠ¶æ€
    toast.classList.add('hidden');
});

// æŠ½ç­¾é€»è¾‘
function drawLottery() {
    // éšè—æŠ½ç­¾åŒºï¼Œæ˜¾ç¤ºåŠ è½½åŒº
    drawArea.classList.add('hidden');
    loadingArea.classList.remove('hidden');

    // æ¨¡æ‹ŸåŠ è½½å»¶è¿Ÿ
    setTimeout(() => {
        // éšæœºæŠ½å–é©¬ç­¾ï¼ˆæŒ‰æ¦‚ç‡ï¼‰
        currentHorseData = randomSelectHorse();
        
        // æ¸²æŸ“ç»“æœ
        renderResult();
        
        // éšè—åŠ è½½åŒºï¼Œæ˜¾ç¤ºç»“æœåŒº
        loadingArea.classList.add('hidden');
        resultArea.classList.remove('hidden');
        
        // ç”Ÿæˆå½©å¸¦åŠ¨ç”»
        createConfetti();
        
        // éšè—ç­¾é¢å¤–ç‰¹æ•ˆ
        if (currentHorseData.type === 'hidden') {
            setTimeout(() => {
                showToast('æ­å–œæŠ½åˆ°éšè—æ¬¾ç¥é©¬ï¼2026å¥½è¿çˆ†æ£šğŸ‰');
            }, 1000);
        }
    }, 2000);
}

// æŒ‰æ¦‚ç‡éšæœºé€‰æ‹©é©¬ç­¾
function randomSelectHorse() {
    const randomNum = Math.random() * 100;
    
    // æ¦‚ç‡åˆ†å¸ƒï¼šæ™®é€šç­¾40% (0-40)ã€ç¨€æœ‰ç­¾30% (40-70)ã€ä¼ è¯´ç­¾25% (70-95)ã€éšè—ç­¾5% (95-100)
    if (randomNum < 40) {
        // æ™®é€šç­¾ (1-10)
        const index = Math.floor(Math.random() * 10);
        return pixelHorseData[index];
    } else if (randomNum < 70) {
        // ç¨€æœ‰ç­¾ (11-18)
        const index = 10 + Math.floor(Math.random() * 8);
        return pixelHorseData[index];
    } else if (randomNum < 95) {
        // ä¼ è¯´ç­¾ (19-23)
        const index = 18 + Math.floor(Math.random() * 5);
        return pixelHorseData[index];
    } else {
        // éšè—ç­¾ (24)
        return pixelHorseData[23];
    }
}

// æ¸²æŸ“æŠ½ç­¾ç»“æœ
function renderResult() {
    // æ›´æ–°ç­¾å¡å®¹å™¨æ ·å¼
    const resultCardContainer = document.getElementById('result-card-container');
    resultCardContainer.className = '';
    resultCardContainer.classList.add('backface-hidden', 'shadow-custom', `card-container-${currentHorseData.type}`);
    
    // éšè—ç­¾é¢å¤–æ·»åŠ å½©è™¹å‘å…‰ç‰¹æ•ˆ
    if (currentHorseData.type === 'hidden') {
        resultCardContainer.classList.add('rainbow-glow');
    }
    
    // æ›´æ–°ç­¾æ–‡ç­‰çº§
    let rankText = '';
    switch(currentHorseData.type) {
        case 'normal': rankText = 'ä¸Šä¸Šç­¾'; break;
        case 'rare': rankText = 'ç¨€æœ‰ç­¾'; break;
        case 'legend': rankText = 'ä¼ è¯´ç­¾'; break;
        case 'hidden': rankText = 'éšè—ç­¾'; break;
    }
    document.getElementById('fortune-rank').textContent = rankText;
    
    // æ›´æ–°é©¬ç±»å‹
    document.getElementById('horse-type').textContent = currentHorseData.horseType;
    
    // æ›´æ–°ç­¾æ–‡
    document.getElementById('fortune-text').textContent = currentHorseData.text;
    
    // æ›´æ–°ç¥ç¦è¯­
    document.getElementById('fortune-blessing').textContent = currentHorseData.blessing;
    
    // æ¸²æŸ“åƒç´ é©¬å›¾æ ‡
    const horseIconContainer = document.getElementById('horse-icon');
    horseIconContainer.innerHTML = '';
    
    // åˆ›å»ºåƒç´ é©¬å®¹å™¨
    const pixelContainer = document.createElement('div');
    pixelContainer.className = 'pixel-container';
    
    // æ·»åŠ æ‰“å·¥äºº/æ‘¸é±¼è¾¾äººæ ‡ç­¾
    if (currentHorseData.hasTag) {
        const tag = document.createElement('div');
        tag.className = 'worker-tag';
        tag.textContent = currentHorseData.tagText;
        pixelContainer.appendChild(tag);
    }
    
    // æ·»åŠ å¥¶èŒ¶è’¸æ±½ç‰¹æ•ˆ
    if (currentHorseData.hasSteam) {
        const steam = document.createElement('div');
        steam.className = 'pixel-steam';
        pixelContainer.appendChild(steam);
    }
    
    // åˆ›å»ºåƒç´ é©¬
    const horse = document.createElement('div');
    horse.className = `pixel-horse animate-[${currentHorseData.horseAnim}_1.5s_ease-in-out_infinite_alternate]`;
    horse.innerHTML = currentHorseData.horseSvg;
    pixelContainer.appendChild(horse);
    
    // åˆ›å»ºç‰¹è‰²å…ƒç´ 
    const feature = document.createElement('div');
    feature.className = `pixel-feature animate-[${currentHorseData.featureAnim}_1.5s_ease-in-out_infinite_alternate]`;
    feature.style.top = currentHorseData.featurePos.top;
    feature.style.left = currentHorseData.featurePos.left;
    feature.style.right = currentHorseData.featurePos.right;
    feature.style.bottom = currentHorseData.featurePos.bottom;
    feature.innerHTML = currentHorseData.featureSvg;
    pixelContainer.appendChild(feature);
    
    // æ·»åŠ åˆ°é¡µé¢
    horseIconContainer.appendChild(pixelContainer);
}

// é‡ç½®æŠ½ç­¾
function resetDraw() {
    // éšè—ç»“æœåŒºï¼Œæ˜¾ç¤ºæŠ½ç­¾åŒº
    resultArea.classList.add('hidden');
    drawArea.classList.remove('hidden');
    
    // é‡ç½®å½“å‰é€‰ä¸­çš„é©¬ç­¾
    currentHorseData = null;
}

// ç”Ÿæˆå›¾ç‰‡
function generateImage() {
    // æ˜¾ç¤ºåŠ è½½æç¤º
    showToast('æ­£åœ¨ç”Ÿæˆå›¾ç‰‡ï¼Œè¯·ç¨å€™...');
    
    // è·å–ç­¾å¡å…ƒç´ 
    const resultCard = document.getElementById('result-card-container');
    
    // ä½¿ç”¨html2canvasç”Ÿæˆå›¾ç‰‡
    html2canvas(resultCard, {
        scale: 2, // é«˜æ¸…ç¼©æ”¾
        useCORS: true,
        backgroundColor: '#FFE6E8'
    }).then(canvas => {
        // æ¸…ç©ºé¢„è§ˆåŒº
        imagePreview.innerHTML = '';
        
        // æ·»åŠ ç”Ÿæˆçš„å›¾ç‰‡
        imagePreview.appendChild(canvas);
        
        // ä¿å­˜canvasåˆ°å…¨å±€ï¼Œæ–¹ä¾¿ä¸‹è½½
        window.generatedCanvas = canvas;
        
        // æ˜¾ç¤ºå›¾ç‰‡æŸ¥çœ‹å™¨
        imageViewer.classList.remove('hidden');
        
        // éšè—æç¤º
        hideToast();
    }).catch(err => {
        console.error('ç”Ÿæˆå›¾ç‰‡å¤±è´¥:', err);
        showToast('ç”Ÿæˆå›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•');
        setTimeout(hideToast, 2000);
    });
}

// å…³é—­å›¾ç‰‡æŸ¥çœ‹å™¨
function closeImageViewer() {
    imageViewer.classList.add('hidden');
}

// ä¸‹è½½å›¾ç‰‡
function downloadImage() {
    if (!window.generatedCanvas) {
        showToast('æš‚æ— å›¾ç‰‡å¯ä¸‹è½½');
        setTimeout(hideToast, 2000);
        return;
    }
    
    // åˆ›å»ºä¸‹è½½é“¾æ¥
    const link = document.createElement('a');
    link.download = `2026æ–°å¹´ç­¾-${currentHorseData.horseType}.png`;
    link.href = window.generatedCanvas.toDataURL('image/png');
    
    // è§¦å‘ä¸‹è½½
    link.click();
    
    // æç¤ºä¸‹è½½æˆåŠŸ
    showToast('å›¾ç‰‡ä¸‹è½½æˆåŠŸï¼');
    setTimeout(hideToast, 2000);
}

// æ˜¾ç¤ºæç¤ºæ¡†
function showToast(message) {
    toast.textContent = message;
    toast.classList.remove('hidden');
}

// éšè—æç¤ºæ¡†
function hideToast() {
    toast.classList.add('hidden');
}

// ç”Ÿæˆå½©å¸¦åŠ¨ç”»
function createConfetti() {
    // æ¸…ç©ºä¹‹å‰çš„å½©å¸¦
    confettiContainer.innerHTML = '';
    
    // ç”Ÿæˆ50ä¸ªå½©å¸¦å…ƒç´ 
    const count = currentHorseData.type === 'hidden' ? 100 : 50;
    const colors = ['#D81F26', '#FFC107', '#90EE90', '#87CEEB', '#7B1FA2', '#FF69B4'];
    
    for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti-item';
        
        // éšæœºæ ·å¼
        const size = Math.random() * 20 + 10;
        const color = colors[Math.floor(Math.random() * colors.length)];
        
        // è®¾ç½®æ ·å¼
        confetti.style.width = `${size}px`;
        confetti.style.height = `${size}px`;
        confetti.style.backgroundColor = color;
        confetti.style.left = `${Math.random() * 100}vw`;
        confetti.style.top = `${Math.random() * 100}vh`;
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        
        // æ·»åŠ åˆ°å®¹å™¨
        confettiContainer.appendChild(confetti);
        
        // åŠ¨ç”»
        setTimeout(() => {
            confetti.style.transform = `translateY(${Math.random() * 100 + 50}px) rotate(${Math.random() * 360}deg)`;
            confetti.style.opacity = 0;
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤
            setTimeout(() => {
                confetti.remove();
            }, 2000);
        }, 10);
    }
}
    </script>
</body>
</html>